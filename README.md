# 파이썬 웹 스크래퍼를 활용한 공지사항 알림봇

## 1. 개발배경

본 프로젝트는 사범대의 졸업 요구 조건인 '인적성 검사', '응급처치 교육'을 신청하기 위해 3년 동안 학교 공지사항 페이지를 반복적으로 방문하는 작업을 자동화하기 위해 시작되었습니다.

자세한 내용은 [개인 블로그 글](https://omins.tistory.com/4?category=1272317)을 참고해주세요.

사범대생은 교원자격증을 취득하기 위해, 졸업 전 2회의 응급처치 교육과 2회의 인적성 검사를 수행해야 하는데, 이를 신청하는 과정은 보통 불편한 일이 아닙니다. 1년 약 8회의 교육이 있고, 교육을 듣기 전 교직팀 웹사이트 '공지사항'에 수시로 들어가 확인해야만 교육 신청 기간을 알 수 있습니다. 즉, 교육일정을 확인하기 위해 수시로 공지사항을 확인해야 한다는 뜻이며, 4년 동안 이러한 작업을 반복해야 한다는 뜻입니다.

이런 반복적인 작업을 더 이상 하지 않기 위해 본 프로젝트를 시작했습니다.

## 2. 요구사항 및 해결방법

본 프로젝트의 요구사항은 크게 다음 두 가지입니다.

1. 교직팀 웹사이트에 공지사항이 등록됐을 때 해당 공지사항을 스크랩.
2. 스크랩한 공지사항 정보를 가공하여 알림톡 전송.

위 요구사항을 해결하기 위해, Python의 requests 모듈을 활용해 공지사항 페이지의 html 문서를 get하고, 이를 Beautifulsoup으로 parsing하여 원하는 정보를 추출하여 가공했습니다.

가공한 정보는 Telegram API를 활용하여, '나의 채팅방'에 전송했습니다. 최종적으로는 Telegram API를 선택했지만, 처음에는 카카오 메시지 api를 활용해 구현했습니다. 다만, 카카오의 경우 액세스 토큰의 유효기간이 짧아 지속적으로 갱신해줘야 하는 수고스러움이 있었고, 공지사항 페이지도 자주 들어가기 싫어서 하는 프로젝트인데 최대한 수고를 줄이자는 생각에, 토큰 발급 과정이 간소하고, 갱신하지 않아도 되는 텔레그램을 활용했습니다.

실행과 동시에 웹페이지의 데이터를 가져오며, 스크랩 대상 웹페이지에 당일 등록 게시물이 있는지만 확인하면 되기에, 데이터베이스에 데이터를 저장할 필요도 없었고, 정기적으로 정해진 시간에 함수를 호출해주는 서버리스 아키텍처인 'AWS Lambda'를 활용해 코드를 실행하도록 했습니다.

![실제 수행 사진](https://user-images.githubusercontent.com/52988822/174081650-d7a21966-53cd-4f52-b0da-88cc2970a3e5.png)

## 3. 사용한 모듈

### Python

1. **BeautifulSoup4**
2. **datetime**
3. **time**
4. **telegram**
5. **requests**

### Others

1. **AWS Lambda**

## 4. 참고 자료

['나도 코딩'님의 파이썬 기초 강의](https://www.inflearn.com/course/%EB%82%98%EB%8F%84%EC%BD%94%EB%94%A9-%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EA%B8%B0%EB%B3%B8)

[파이썬 웹 스크래핑 강좌](https://www.inflearn.com/course/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EC%9B%B9-%EC%8A%A4%ED%81%AC%EB%9E%98%ED%95%91)
